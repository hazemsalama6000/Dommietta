<section class="fontsection">

	<mat-expansion-panel hideToggle>
		<mat-expansion-panel-header>
			<mat-panel-title>

				<div style="width:100%" class="d-flex justify-content-between align-items-center">

					<span class="fontsection">
						{{"SHARE.TITLES.ADDORUPDATESECTION" | translate}}
					</span>
					<button matTooltip="اضافة" mat-mini-fab color="primary" class="mx-md-1" (click)="reset()"
						aria-label="Example icon button with a filter list icon">
						<mat-icon>add</mat-icon>
					</button>
					
				</div>
			</mat-panel-title>

			<mat-panel-description>

			</mat-panel-description>
		</mat-expansion-panel-header>



		<mat-divider></mat-divider>

		<form [formGroup]="UpsertForm" (ngSubmit)="Submit(UpsertForm.value)">

			<input type="hidden" formControlName="id" name="id">
			<input type="hidden" formControlName="department_Id" name="department_Id">

			<div class="row mt-7">

				<div class="col-md-8">

					<mat-form-field appearance="outline">
						<mat-label class="fontForInputs"> {{"SHARE.INPUTS.NAME" | translate}}</mat-label>
						<input matInput formControlName="name" name="name">
						<mat-icon matSuffix>sentiment_very_satisfied</mat-icon>

						<mat-hint>
							{{messageErrors}}
							<ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
				  validation: 'required',
				  message: 'AUTH.VALIDATION.REQUIRED' | translate : {name:'SHARE.INPUTS.NAME' | translate},
				  control: UpsertForm.controls['name']
				}"></ng-container>

						</mat-hint>

					</mat-form-field>

				</div>

				<div class="col-md-2" *ngIf="toggleAddEditButton">
					<button type="submit" mat-raised-button [disabled]="!UpsertForm.valid" color="primary"
						class="mt-3">{{"SHARE.BUTTONS.ADD" | translate}}</button>
				</div>

				<div class="col-md-2" *ngIf="!toggleAddEditButton">
					<button type="submit" mat-raised-button [disabled]="!UpsertForm.valid" color="primary"
						class="mt-3">{{"SHARE.BUTTONS.EDIT" | translate}}</button>
				</div>

				<div class="col-md-2" *ngIf="!toggleAddEditButton">
					<button mat-raised-button color="accent" [disabled]="!UpsertForm.valid" (click)="closeEdit()"
						class="mt-3">{{"SHARE.BUTTONS.CLOSE" | translate}}</button>
				</div>

			</div>


		</form>
	</mat-expansion-panel>


</section>



<ng-template #formError let-control="control" let-message="message" let-validation="validation">
	<ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
		<div class="fv-plugins-message-container">
			<span role="alert">
				{{ message }}
			</span>
		</div>
	</ng-container>
</ng-template>
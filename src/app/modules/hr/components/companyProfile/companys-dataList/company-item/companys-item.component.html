<section id="company_list" class="mt-5">

	<div class="row">

		<div class="col-md-12">

			<mat-accordion>
				<mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
					<mat-expansion-panel-header
						[ngClass]="{'bg-danger':panelOpenState==true ,'heiglightRowClass' : company.isActive == true}">
						<mat-panel-title>

							<img [src]="company.logoWeb" class="rounded" width="40" height="40">


							<div style="width:100%" class="text-center"
								[ngStyle]="{'color':panelOpenState==true ? 'white':'black'}">

								<span class="fontForInputs" style="font-weight:bold ;">
									بيانات الشركة :
								</span>

								<span class="fontForInputs mx-5">
									{{company.companyName}}
								</span>

								<span class="fontForInputs" style="font-weight:bold ;">
									الكود :
								</span>

								<span class="fontForInputs">
									{{company.code}}
								</span>
								<!--<div class="mx-10">
									<div *ngIf="company.isActive==true; else xcross;">
										<i class="fa fa-check" aria-hidden="true"></i>

									</div>

									<ng-template #xcross>
										<i class="fa fa-xmark" aria-hidden="true"></i>
									</ng-template>
								</div>-->


							</div>

						</mat-panel-title>
					</mat-expansion-panel-header>


					<div class="row p-5">


						<div class="col-md-12">

							<div class="row">

								<div class="col-md-2">

									<div class="row text-center mt-1">

										<div class="d-flex justify-content-center align-items-center gap-1">
											<div class="container">
												<img class="card-img-top" [src]="company.logoWeb"
													style="width:80px;height:80px;" alt="Card image">
												<div class="centered boldfont"> {{"HR.INPUTS.LOGOWEB" | translate}}
												</div>
												<span class="top-right">
													<input id="file-logoWeb" type="file" class="mx-2 btn btn-danger"
														(change)="logoWebChange($event)" placeholder="Placeholder"
														name="logoWeb">
													<label
														style="align-content:center ;background-color: #c5c5c5;cursor: pointer;padding: 5px;border-radius: 20px;"
														for="file-logoWeb">
														<mat-icon style="font-size:20px ;display: inline;">edit
														</mat-icon>
													</label>
												</span>
											</div>
										</div>

									</div>


									<div class="row text-center mt-5">

										<div class="d-flex justify-content-center align-items-center gap-1">
											<div class="container">
												<img class="card-img-top" [src]="company.logoPrint"
													style="width:80px;height:80px ;" alt="Card image">
												<div class="centered boldfont"> {{"HR.INPUTS.LOGOPRINT" | translate}}
												</div>
												<span class="top-right">
													<input id="file-logoPrint" type="file" class="mx-2"
														(change)="logoPrintChange($event)" placeholder="Placeholder"
														name="logoPrint">
													<label for="file-logoPrint"
														style="align-content:center ;background-color: #c5c5c5;cursor: pointer;padding: 5px;border-radius: 20px;">
														<mat-icon style="font-size:20px ;display: inline;">edit
														</mat-icon>
													</label>
												</span>
											</div>
										</div>



									</div>

								</div>

								<div class="col-md-10 fontForInputs">

									<div class="row">

										<div class="col-md-6">

											<div class="d-flex align-items-center mb-2">
												<a
													class="text-gray-800 text-hover-primary fs-2 fw-bolder me-1 cursor-pointer">
													{{company.companyName}}
												</a>

												<a class="cursor-pointer">
													<span class="svg-icon svg-icon-1 svg-icon-primary"></span>
												</a>

												<a *ngIf="company.isActive== true"
													class="btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
													data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
													نشط
												</a>

												<a *ngIf="company.isActive== false"
													class="btn btn-sm btn-light-danger fw-bolder ms-2 fs-8 py-1 px-3 cursor-pointer"
													data-bs-toggle="modal" data-bs-target="#kt_modal_upgrade_plan">
													غير نشط
												</a>

												<span class="mx-2">
													<section
														matTooltip="{{company.isActive==true?'ايقاف التفعيل':'تفعيل'}}"
														class="example-section">
														<mat-slide-toggle name="isValTaxActive"
															class="example-margin" [color]="'red'"
															(click)="activeCompany()"
															[checked]="company.isActive">
														</mat-slide-toggle>
													</section>
												</span>

											</div>
											<div class="d-flex flex-wrap">
												<a
												  class="
													d-flex
													align-items-center
													text-gray-400 text-hover-primary
													HintsStyles
													cursor-pointer
												  "
												>
												عدد المستخدمين   :  {{company.mobileUserNumber}}
												</a>
											
											  </div>

										</div>

										<div class="col-md-6">
											<div class="d-flex align-items-start justify-content-end">

												<button class="btn btn-primary col-md-3 mx-1"
													(click)="openDialog(company.id)">
													<span class="fontForInputs">
														تعديل الشركة
													</span>
												</button>
												<button class="btn btn-warning col-md-3 mx-1"
													(click)="setCompanyIdGettingBranches(company.id) ">
													<span class="fontForInputs">
														عرض الفروع
													</span>
												</button>


											</div>
										</div>

									</div>

									<div class="row">
										<div class="col-md-6">
											<table class="table" style="width:100% ;">
												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">الكود</th>
													<td style="padding: 10px;">{{company.code}}</td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">العنوان</th>
													<td style="padding: 10px;">{{company.address}}</td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">المحافظة</th>
													<td style="padding: 10px;">{{company.state}}</td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">المنطقة</th>
													<td style="padding: 10px;">{{company.region}} </td>
												</tr>
											</table>
										</div>

										<div class="col-md-6">

											<table class="table" style="width:100% ;">


												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">التليفون</th>
													<td style="padding: 10px;">{{company.phoneNumber}} </td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">الايميل</th>
													<td style="padding: 10px;">{{company.email}} </td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;">اسم المسؤول</th>
													<td style="padding: 10px;">{{company.managerName}} </td>
												</tr>

												<tr style="border-bottom:1px dotted #5a5a5a ;">
													<th style="padding: 10px;font-weight: bold;"> المسمى الوظيفى</th>
													<td style="padding: 10px;">{{company.managerPosition}} </td>
												</tr>


											</table>
										</div>
									</div>


								</div>

							</div>

						</div>


					</div>


					<div class="row" *ngIf="companyIdForShowingBranches != 0">
						<branchs-c [companyId]="companyIdForShowingBranches"></branchs-c>
					</div>


				</mat-expansion-panel>
			</mat-accordion>






		</div>
	</div>


</section>
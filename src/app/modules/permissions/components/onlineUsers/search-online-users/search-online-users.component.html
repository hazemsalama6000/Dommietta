<form [formGroup]="SearchOnlineUsersForm" (ngSubmit)="searchOnlineUsers(SearchOnlineUsersForm.value)">


	<div class="row">

		<div class="col-md-4">

			<div class="row align-items-center">
				<div class="col-md-2">
					<label class="col-md-2" for="companyId" class="fontForInputs"> الشركات</label>
				</div>
				<div class="col-md-7">
					<ng-select [items]="dropCompaniesData" bindLabel="Name" bindValue="Id" name="companyId"
						formControlName="companyId">
					</ng-select>
				</div>
			</div>

		</div>

		<div class="col-md-8">

			<div class="row">

				<div class="col-md-12">

					<mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group mt-5"
						formControlName="userStates">

						<mat-radio-button class="fontForInputs example-radio-button" [value]="true">
							المستخدمين المتصلين
						</mat-radio-button>
						<mat-radio-button class="fontForInputs example-radio-button" [value]="false">
							المستخدمين الغير متصلين
						</mat-radio-button>
						<mat-radio-button class="fontForInputs example-radio-button" [value]="">
							الكل
						</mat-radio-button>

					</mat-radio-group>

					<button mat-fab color="primary" id="search" type="submit" class="mx-10">
						<mat-icon>search</mat-icon>
					</button>

				</div>

			</div>

		</div>


	</div>


</form>

<mat-divider class="mt-5"></mat-divider>

<div class="row mt-5">

	<span class="fontForInputs mt-3 mb-5">
		عدد المستخدمين المتصلين لكل شركة
	
		<mat-icon class="text-primary mt-2 mx-2"> cell_wifi</mat-icon>
	</span>

	<span  *ngIf="onlineUsersGrouped; else noData;">
		<div class="d-inline mx-5" *ngFor="let t of onlineUsersGrouped">

			<span class="badge badge-info fontForInputs">
				{{t.companyName}}
			</span>

			<span class="badge badge-danger fontForInputs">
				{{t.countOnlineUsers}}
			</span>

		</div>
	</span>
	<ng-template #noData>
		<span class="fontForInputs">
			لايوجد بيانات
		</span>
	</ng-template>

</div>